<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8>
    <title>Color Cube</title>
    <style>
        body {
            margin: 0;
        }

        canvas {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div id="container"></div>

    <script src="three.js"></script>
    <script src="OrbitControls.js"></script>
    <script>

        var data = [
        0.941176470588235, 0.972549019607843, 1,
        0.980392156862745, 0.92156862745098, 0.843137254901961,
        0, 1, 1,
        0.498039215686275, 1, 0.831372549019608,
        0.941176470588235, 1, 1,
        0.96078431372549, 0.96078431372549, 0.862745098039216,
        1, 0.894117647058824, 0.768627450980392,
        0, 0, 0,
        1, 0.92156862745098, 0.803921568627451,
        0, 0, 1,
        0.541176470588235, 0.168627450980392, 0.886274509803922,
        0.647058823529412, 0.164705882352941, 0.164705882352941,
        0.870588235294118, 0.72156862745098, 0.529411764705882,
        0.372549019607843, 0.619607843137255, 0.627450980392157,
        0.498039215686275, 1, 0,
        0.823529411764706, 0.411764705882353, 0.117647058823529,
        1, 0.498039215686275, 0.313725490196078,
        0.392156862745098, 0.584313725490196, 0.929411764705882,
        1, 0.972549019607843, 0.862745098039216,
        0.862745098039216, 0.0784313725490196, 0.235294117647059,
        0, 1, 1,
        0, 0, 0.545098039215686,
        0, 0.545098039215686, 0.545098039215686,
        0.72156862745098, 0.525490196078431, 0.0431372549019608,
        0.662745098039216, 0.662745098039216, 0.662745098039216,
        0, 0.392156862745098, 0,
        0.741176470588235, 0.717647058823529, 0.419607843137255,
        0.545098039215686, 0, 0.545098039215686,
        0.333333333333333, 0.419607843137255, 0.184313725490196,
        1, 0.549019607843137, 0,
        0.6, 0.196078431372549, 0.8,
        0.545098039215686, 0, 0,
        0.913725490196078, 0.588235294117647, 0.47843137254902,
        0.56078431372549, 0.737254901960784, 0.56078431372549,
        0.282352941176471, 0.23921568627451, 0.545098039215686,
        0.184313725490196, 0.309803921568627, 0.309803921568627,
        0, 0.807843137254902, 0.819607843137255,
        0.580392156862745, 0, 0.827450980392157,
        1, 0.0784313725490196, 0.576470588235294,
        0, 0.749019607843137, 1,
        0.411764705882353, 0.411764705882353, 0.411764705882353,
        0.117647058823529, 0.564705882352941, 1,
        0.698039215686274, 0.133333333333333, 0.133333333333333,
        1, 0.980392156862745, 0.941176470588235,
        0.133333333333333, 0.545098039215686, 0.133333333333333,
        1, 0, 1,
        0.862745098039216, 0.862745098039216, 0.862745098039216,
        0.972549019607843, 0.972549019607843, 1,
        1, 0.843137254901961, 0,
        0.854901960784314, 0.647058823529412, 0.125490196078431,
        0.501960784313725, 0.501960784313725, 0.501960784313725,
        0, 0.501960784313725, 0,
        0.67843137254902, 1, 0.184313725490196,
        0.941176470588235, 1, 0.941176470588235,
        1, 0.411764705882353, 0.705882352941177,
        0.803921568627451, 0.36078431372549, 0.36078431372549,
        0.294117647058824, 0, 0.509803921568627,
        1, 1, 0.941176470588235,
        0.941176470588235, 0.901960784313726, 0.549019607843137,
        0.901960784313726, 0.901960784313726, 0.980392156862745,
        1, 0.941176470588235, 0.96078431372549,
        0.486274509803922, 0.988235294117647, 0,
        1, 0.980392156862745, 0.803921568627451,
        0.67843137254902, 0.847058823529412, 0.901960784313726,
        0.941176470588235, 0.501960784313725, 0.501960784313725,
        0.87843137254902, 1, 1,
        0.980392156862745, 0.980392156862745, 0.823529411764706,
        0.827450980392157, 0.827450980392157, 0.827450980392157,
        0.564705882352941, 0.933333333333333, 0.564705882352941,
        1, 0.713725490196078, 0.756862745098039,
        1, 0.627450980392157, 0.47843137254902,
        0.125490196078431, 0.698039215686274, 0.666666666666667,
        0.529411764705882, 0.807843137254902, 0.980392156862745,
        0.466666666666667, 0.533333333333333, 0.6,
        0.690196078431373, 0.768627450980392, 0.870588235294118,
        1, 1, 0.87843137254902,
        0, 1, 0,
        0.196078431372549, 0.803921568627451, 0.196078431372549,
        0.980392156862745, 0.941176470588235, 0.901960784313726,
        1, 0, 1,
        0.501960784313725, 0, 0,
        0.4, 0.803921568627451, 0.666666666666667,
        0, 0, 0.803921568627451,
        0.729411764705882, 0.333333333333333, 0.827450980392157,
        0.576470588235294, 0.43921568627451, 0.858823529411765,
        0.235294117647059, 0.701960784313725, 0.443137254901961,
        0.482352941176471, 0.407843137254902, 0.933333333333333,
        0, 0.980392156862745, 0.603921568627451,
        0.282352941176471, 0.819607843137255, 0.8,
        0.780392156862745, 0.0823529411764706, 0.52156862745098,
        0.0980392156862745, 0.0980392156862745, 0.43921568627451,
        0.96078431372549, 1, 0.980392156862745,
        1, 0.894117647058824, 0.882352941176471,
        1, 0.894117647058824, 0.709803921568627,
        1, 0.870588235294118, 0.67843137254902,
        0, 0, 0.501960784313725,
        0.992156862745098, 0.96078431372549, 0.901960784313726,
        0.501960784313725, 0.501960784313725, 0,
        0.419607843137255, 0.556862745098039, 0.137254901960784,
        1, 0.647058823529412, 0,
        1, 0.270588235294118, 0,
        0.854901960784314, 0.43921568627451, 0.83921568627451,
        0.933333333333333, 0.909803921568627, 0.666666666666667,
        0.596078431372549, 0.984313725490196, 0.596078431372549,
        0.686274509803922, 0.933333333333333, 0.933333333333333,
        0.858823529411765, 0.43921568627451, 0.576470588235294,
        1, 0.937254901960784, 0.835294117647059,
        1, 0.854901960784314, 0.725490196078431,
        0.803921568627451, 0.52156862745098, 0.247058823529412,
        1, 0.752941176470588, 0.796078431372549,
        0.866666666666667, 0.627450980392157, 0.866666666666667,
        0.690196078431373, 0.87843137254902, 0.901960784313726,
        0.501960784313725, 0, 0.501960784313725,
        1, 0, 0,
        0.737254901960784, 0.56078431372549, 0.56078431372549,
        0.254901960784314, 0.411764705882353, 0.882352941176471,
        0.545098039215686, 0.270588235294118, 0.0745098039215686,
        0.980392156862745, 0.501960784313725, 0.447058823529412,
        0.956862745098039, 0.643137254901961, 0.376470588235294,
        0.180392156862745, 0.545098039215686, 0.341176470588235,
        1, 0.96078431372549, 0.933333333333333,
        0.627450980392157, 0.32156862745098, 0.176470588235294,
        0.752941176470588, 0.752941176470588, 0.752941176470588,
        0.529411764705882, 0.807843137254902, 0.92156862745098,
        0.415686274509804, 0.352941176470588, 0.803921568627451,
        0.43921568627451, 0.501960784313725, 0.564705882352941,
        1, 0.980392156862745, 0.980392156862745,
        0, 1, 0.498039215686275,
        0.274509803921569, 0.509803921568627, 0.705882352941177,
        0.823529411764706, 0.705882352941177, 0.549019607843137,
        0, 0.501960784313725, 0.501960784313725,
        0.847058823529412, 0.749019607843137, 0.847058823529412,
        1, 0.388235294117647, 0.27843137254902,
        1, 1, 1,
        0.250980392156863, 0.87843137254902, 0.815686274509804,
        0.933333333333333, 0.509803921568627, 0.933333333333333,
        0.96078431372549, 0.870588235294118, 0.701960784313725,
        1, 1, 1,
        0.96078431372549, 0.96078431372549, 0.96078431372549,
        1, 1, 0,
        0.603921568627451, 0.803921568627451, 0.196078431372549,
        ];

        var container = document.getElementById('container');

        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 4000);
        camera.position.z = 2200;

        var particleCount = data.length / 3;
        var radius = 800;

        var controls = new THREE.OrbitControls(camera, container);

        var group = new THREE.Group();
        scene.add(group);

        var helper = new THREE.BoxHelper(new THREE.Mesh(new THREE.BoxGeometry(radius, radius, radius)));
        helper.material.color.setHex(0x484848);
        helper.material.blending = THREE.AdditiveBlending;
        helper.material.transparent = true;
        group.add(helper);

        var pointsMaterial = new THREE.PointsMaterial({
            size: 25,
            vertexColors: THREE.VertexColors,
            sizeAttenuation: false
        });

        var particleGeometry = new THREE.BufferGeometry();
        var particlePositions = new Float32Array(particleCount * 3);
        var particleColors = new Float32Array(particleCount * 3);

        for (var i = 0; i < particleCount * 3; i += 3) {
            var r = data[i];
            var g = data[i + 1];
            var b = data[i + 2];
            particleColors[i] = r;
            particleColors[i + 1] = g;
            particleColors[i + 2] = b;

            var x = r * radius - radius / 2;
            var y = g * radius - radius / 2;
            var z = b * radius - radius / 2;
            particlePositions[i] = x;
            particlePositions[i + 1] = y;
            particlePositions[i + 2] = z;
        }

        particleGeometry.addAttribute('position', new THREE.BufferAttribute(particlePositions, 3));
        particleGeometry.addAttribute('color', new THREE.BufferAttribute(particleColors, 3));

        particleGeometry.computeBoundingSphere();

        pointCloud = new THREE.Points(particleGeometry, pointsMaterial);
        group.add(pointCloud);

        var renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setClearColor(0x707070);
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(renderer.domElement);

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        var render = function () {
            requestAnimationFrame(render);
            var rotationRate = 0.005;
            //group.rotation.x += rotationRate;
            //group.rotation.y += rotationRate;
            renderer.render(scene, camera);
        }

        window.addEventListener('resize', onWindowResize, false);

        render();
    </script>
</body>
</html>